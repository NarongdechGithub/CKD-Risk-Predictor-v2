<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ผลการทำนาย CKD</title>

  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --sky:#a6dcff; --card:#ffffff; --ink:#1d2b36; --muted:#6b7b88; --accent:#2b9de3; --accent-2:#ffd66b;
      --shadow:0 10px 28px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--sky),#d7efff 60%);font-family:"Prompt",system-ui}
    .app{max-width:1080px;margin:28px auto;padding:20px;background:#e9f6ff;border-radius:28px;box-shadow:var(--shadow);border:6px solid #7cc8ff;}
    header.browser{background:#6ec3ff;border-radius:20px;padding:14px 20px;color:#fff;display:flex;align-items:center;gap:0;justify-content:flex-start;}
    /* header.browser{background:#6ec3ff;border-radius:20px;padding:14px 20px;color:white;display:flex;align-items:center;gap:40px;margin-bottom:18px;} */
    /* .dot{width:12px;height:12px;border-radius:999px;background:#32cd66;box-shadow:14px 0 0 #ffd83d,28px 0 0 #ff5f56} */
    .stage{background:var(--card);border-radius:24px;box-shadow:var(--shadow);overflow:hidden;border:1px solid #e4eef6;}
    .hero{padding:18px;background:linear-gradient(180deg,#f7fbff,#ffffff)}
    .hero h1{margin:8px 0 0;font-size:28px;font-weight:800}
    .hero h2{margin:4px 0 0;font-weight:500;color:#3c5566;font-size:16px}
    .hero-img{width:100%;border-radius:16px;object-fit:cover;margin-top:14px;border:1px solid #eaf3fb}
    .section-title{display:inline-block;margin:18px 18px 12px;padding:10px 14px;background:var(--accent-2);border-radius:12px;font-weight:700;color:#3b3b3b}
    .content{padding:0 18px 20px}
    .levels{display:flex;gap:8px;margin:12px 0;position: relative; display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin: 10px 0 8px;}
    /* .levels{display:flex;gap:8px;margin:12px 0} */
    .lv{flex:1;height:12px;border-radius:20px;opacity:.35;position: relative;
      height: 18px;
      border-radius: 14px;
      border: 2px solid var(--edge, #cbd5e1);
      background: var(--fill, #e2e8f0);
      box-shadow: inset 0 -2px 0 rgba(0,0,0,.05);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    /* .lv{flex:1;height:12px;border-radius:20px;opacity:.35} */
    .lv-1{background:#b7f4c6}.lv-2{background:#eaf59c}.lv-3{background:#ffd77a}.lv-4{background:#ffb497}.lv-5{background:#ff8b8b}
    .active{opacity:1;box-shadow:0 0 0 2px #fff,0 0 0 5px rgba(0,0,0,.07);transform: translateY(-1px);box-shadow:0 0 0 2px #fff,0 0 0 6px rgba(0,0,0,.06),inset 0 -2px 0 rgba(0,0,0,.08);}
    /* .active{opacity:1;box-shadow:0 0 0 2px #fff,0 0 0 5px rgba(0,0,0,.07)} */
    .badge{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;font-weight:800;background:#ffe7a3;color:#5a4b14;margin:12px 0 8px}
    .pill{display:inline-block;padding:14px 18px;border-radius:16px;font-weight:800;margin:12px 0}
    .pill.ok{background:#d9f6df;color:#145c2a}
    .pill.warn{background:#fff0cf;color:#7a4b00}
    .pill.risk{background:#ffd5d5;color:#8a1b1b}
    .actions{display:flex;gap:10px;justify-content:center;padding:10px 18px 24px}
    .btn{background:var(--accent);color:#fff;border:0;padding:14px 22px;font-weight:700;border-radius:999px;cursor:pointer;box-shadow:0 8px 16px rgba(43,157,227,.25);text-decoration:none;display:inline-block}
    .btn.gray{background:#6b7b88}
    .producer-credit {text-align: center; font-size: 12px; /* ปรับจากเดิม 13-14px ให้เล็กลง */ color: #555; margin-top: 4px; font-style: italic; }
    .lv.active::after{
      content:"";
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      /* top:-12px;                   
      border-left:8px solid transparent;
      border-right:8px solid transparent;
      border-bottom:12px solid var(--edge); */
      top: auto;
      bottom: -12px;
      border-bottom: none;
      border-top: 12px solid var(--edge);

    }
    .result-card{
      margin: 12px 18px 22px;
      padding: 18px;
      background: #fff;
      border: 2px solid #dfeaf5;
      border-radius: 16px;
      box-shadow: 0 10px 20px rgba(0,0,0,.06);
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="browser">
      <div class="dot"></div>
      <div style="font-weight:700">CKD Prediction — ผลการทำนาย</div>
    </header>

    <main class="stage">
      <section class="hero">
        <h1>ผลการทำนายสุขภาพไต</h1>
        <h2>(Chronic Kidney Disease Prediction)</h2>
        <img class="hero-img" src="Pic-Kidney Disease.png" alt="Kidney Disease">
      </section>

      <div class="section-title">สรุประดับความเสี่ยง</div>
      <div class="content">
        <div class="levels">
          <div id="lv1" class="lv lv-1"></div>
          <div id="lv2" class="lv lv-2"></div>
          <div id="lv3" class="lv lv-3"></div>
          <div id="lv4" class="lv lv-4"></div>
          <div id="lv5" class="lv lv-5"></div>
        </div>
        <div id="badge" class="badge">ผลระดับความเสี่ยง</div>
        <div id="pill" class="pill">—</div>
        <p id="advice" style="color:#445565;margin:8px 0 0"></p>
      </div>

      <div class="actions">
        <a href="/" class="btn gray">กลับไปกรอกใหม่</a>
      </div>
    </main>
  </div>

  <script>
    // อ่านพารามิเตอร์จาก query string
    const params = new URLSearchParams(location.search);
    const level = Math.max(1, Math.min(5, parseInt(params.get('level') || '3', 10)));
    const message = params.get('message') || '';

    for(let i=1;i<=5;i++){
      const el = document.getElementById('lv'+i);
      if(i===level) el.classList.add('active');
    }

    const badge = document.getElementById('badge');
    const pill = document.getElementById('pill');
    const advice = document.getElementById('advice');

    const meta = {
      1:{title:"สุขภาพไตแข็งแรง", pill:"ok"},
      2:{title:"เฝ้าระวังเล็กน้อย", pill:"ok"},
      3:{title:"เริ่มมีความเสี่ยง", pill:"warn"},
      4:{title:"เสี่ยงสูง", pill:"risk"},
      5:{title:"เสี่ยงสูงมาก", pill:"risk"},
    }[level];

    badge.textContent = "ผลระดับความเสี่ยง: " + level + " / 5";
    pill.textContent = meta.title;
    pill.className = "pill " + meta.pill;
    advice.textContent = message;
  </script>

<footer class="producer-credit">
  พัฒนาโดย MIDTHaI ร่วมกับมหาวิทยาลัยเทคโนโลยีสุรนารี สนับสนุนโดย PMU-B<br>
  <small>Developed by MIDTHaI in collaboration with Suranaree University of Technology, supported by PMU-B<br>
  © Narongdech, 2025. All rights reserved.</small>
</footer>
</body>
</html>
